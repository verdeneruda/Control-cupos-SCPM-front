<app-toolbar></app-toolbar>

<app-spinner *ngIf="loading"></app-spinner>

<div class="container">
    <div class="row align-items-start">
        <div class="col">
            Expediente:
            <div class="input-group mb-3" style="width: 80%;">
                <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="expediente"
                    placeholder="LAMXXXX">
            </div>
        </div>
        <div class="col">
            Número de la resolución
            <div class="input-group mb-3" style="width: 80%;">
                <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="resolucion"
                    placeholder="X-XXXX-XXXXX">
            </div>

        </div>
        <div class="col">
            <div>&nbsp;</div>
            <button type="button" (click)="onSearch()" class="btn btn-primary">Buscar</button>
            <button type="button" (click)="onClean()" class="btn btn-primary">Limpiar</button>
        </div>
    </div>

    <ng-container *ngIf='licenses.length > 0 '>

    <div class="tamañotabla" >
        
        
        <h3> Resultado de la búsqueda </h3>
        <table class="table table table-striped  mat-elevation-z8 ">
            <thead>
            </thead>
            <tbody *ngFor="let row of licenses">

                <tr>
                    <th scope="row"></th>
                    <td>
                        <li> Expediente: </li>
                    </td>
                    <td>
                        {{row.expediente}}
                    </td>
                    <td>
                        <li>Resolución que modifica:</li>
                    </td>
                    <td>
                        {{row.resolucionModifica}}
                    </td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>
                        <li>Importador: </li>
                    </td>
                    <td>
                        {{row.importador}}
                    </td>
                    <td>
                        <li>Fecha de Resolución que modifica:</li>
                    </td>
                    <td>
                        {{row.fechaResolucion}}
                    </td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td> <li>Resolución No:</li> </td>
                    <td>
                        {{row.resolucionNo}}
                    </td>
                    <td> <li>- Tipo de Importador: </li></td>
                    <td>
                        {{row.tipoImportador}}
                    </td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td> <li> Fecha de Resolución:</li> </td>
                    <td>
                        {{row.fechaResolucion}}
                    </td>
                    <td> <li> Estado: </li></td>
                    <td>
                        {{row.estado}}
                    </td>
                </tr>
            </tbody>
        </table>
        <div style="margin-top: 5%;">

            <div>
                <div style="text-align:center">
                    <h2>HCFC (KILOGRAMOS)</h2>
                </div>

                <table class="table table table-striped  mat-elevation-z8 ">
                    <thead>
                        <tr>
                            <th>SUSTANCIA</th>
                            <th>CUPO ANUAL</th>
                            <th>CUPO DISPONIBLE</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let license of licenses">
                        <tr *ngFor="let subLicense of license.sustancias">
                            <td>{{ subLicense.name }}</td>
                            <td> {{ subLicense.cupoAnual }}</td>
                            <td>{{ subLicense.cupoDisponible }}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="botonlr">
                    <div style="margin: 10px;">
                        <button type="button" class="btn btn-danger">Descontar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </ng-container>
</div>